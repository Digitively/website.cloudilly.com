
<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="author" content="Cloudilly" />
	<link href="https://fonts.googleapis.com/css?family=Lato:300,400,400italic,600,700|Raleway:300,400,500,600,700|Crete+Round:400italic" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" href="/css/bootstrap.css" type="text/css" />
	<link rel="stylesheet" href="/style.css" type="text/css" />
	<link rel="stylesheet" href="/css/swiper.css" type="text/css" />
	<link rel="stylesheet" href="/css/dark.css" type="text/css" />
	<link rel="stylesheet" href="/css/font-icons.css" type="text/css" />
	<link rel="stylesheet" href="/css/animate.css" type="text/css" />
	<link rel="stylesheet" href="/css/magnific-popup.css" type="text/css" />
	<link rel="stylesheet" href="/css/responsive.css" type="text/css" />
	<link rel="stylesheet" href="/custom/css/colors.css" type="text/css" />
	<link rel="stylesheet" href="/custom/css/style.css" type="text/css" />
	<link rel="stylesheet" href="/custom/css/jquery.tocify.css" type="text/css" />
	<script type="text/javascript" src="/js/jquery.js"></script>
	<script type="text/javascript" src="/js/plugins.js"></script>
	<script type="text/javascript" src="/custom/javascripts/web.js"></script>
	<script type="text/javascript" src="/custom/javascripts/script.js"></script>
	<script type="text/javascript" src="/custom/javascripts/jquery.tocify.js"></script>
	<script type="text/javascript" src="https://cdn.cloudilly.com/jwt-decode.min.js"></script>
	<title>Cloudilly | Build Realtime Fast</title>
</head>

<body class="stretched" onload="cloudillyDocs();checkEmail();">
	<div id="wrapper" class="clearfix">
		<header id="header" class="transparent-header full-header" data-sticky-class="not-dark">
			<div id="header-wrap">
				<div class="container clearfix">
					<div id="primary-menu-trigger"><i class="icon-reorder"></i></div>
					<div id="logo">
						<a href="/index.html" class="standard-logo" data-dark-logo="/custom/images/logo-dark.png"><img src="/custom/images/logo.png" alt="Cloudilly"></a>
						<a href="/index.html" class="retina-logo" data-dark-logo="/custom/images/logo-dark@2x.png"><img src="/custom/images/logo@2x.png" alt="Cloudilly"></a>
					</div>
					<nav id="primary-menu" class="not-dark">
						<ul data-easing="easeInOutExpo" data-speed="1500">
							<li><a href="/index.html"><div>Home</div></a></li>
							<li><a href="/pricing.html"><div>Pricing</div></a></li>
							<li class="current"><a href="/docs.html"><div>Docs</div></a></li>
							<li><a href="/samples.html"><div>Samples</div></a></li>
						</ul>
						<ul class="menu-right">
							<li id="login" style="display:inherit"><a href="/login.html"><div>Login</div></a></li>
							<li id="signup" style="display:inherit"><a href="/signup.html"><div>Sign Up</div></a></li>
							<li id="console" style="display:none"><a href="#" onClick="location.href='/user/' + states.email"><div>Console</div></a></li>
							<li id="logout" style="display:none"><a href="#" onClick="cloudillyLogout()"><div>Logout</div></a></li>
						</ul>
					</nav>
				</div>
			</div>
		</header>

		<section id="content">
			<div class="content-wrap justify">
				<div class="container-fullwidth clearfix">
					<div class="col_one_fourth">
						<div id="toc">
							<ul class="tocify-header nav nav-list tocify-highlight"><li class="tocify-item"><a href="/docs.html">OVERVIEW</a></li></ul>
							<ul class="tocify-header nav nav-list"><li class="tocify-item active" data-unique="Web"><a href="/web.html"><u>WEB SDK</u></a></li></ul>
							<ul id="last" class="tocify-header nav nav-list"></ul>
							<ul class="tocify-header nav nav-list">
								<li class="tocify-item active tocify-highlight" data-unique="iOS"><a href="/objc.html">IOS SDK</a></li>
								<ul class="tocify-subheader nav nav-list" data-tag="2" style="display:none;">
									<li class="tocify-item tocify-highlight" data-unique="ObjC" style="cursor:pointer;"><a href="/objc.html">OBJECTIVE C</a></li>
									<li class="tocify-item tocify-highlight" data-unique="Swift" style="cursor:pointer;"><a href="/swift.html">SWIFT</a></li>
								</ul>
							</ul>
							<ul class="tocify-header nav nav-list">
								<li class="tocify-item active tocify-highlight" data-unique="Android"><a href="/android.html">ANDROID SDK</a></li>
								<ul class="tocify-subheader nav nav-list" data-tag="2" style="display:none;">
									<li class="tocify-item tocify-highlight" data-unique="Android" style="cursor:pointer;"><a href="/android.html">ANDROID</a></li>
								</ul>
							</ul>
							<ul class="tocify-header nav nav-list">
								<li class="tocify-item active tocify-highlight" data-unique="Hook"><a href="/nodejs.html">HOOK SDK</a></li>
								<ul class="tocify-subheader nav nav-list" data-tag="2" style="display:none;">
									<li class="tocify-item tocify-highlight" data-unique="NodeJS" style="cursor:pointer;"><a href="/nodejs.html">NODE JS</a></li>
								</ul>
							</ul>
						</div>
					</div>

					<div id="context" class="col_three_fourth col_last">
						<h1>JAVASCRIPT</h1>
						<h2>SETUP</h2>
						<h3>Create app</h3>
						<p>If you have not already done so, create an account on Cloudilly. Next, create an app with a unique app identifier. Once that is done, you should arrive at the app page with all the access keys for the different platforms. Take note of the "Access" field under Web SDK, you will need this access key shortly. Next, add the URLs where your web application is hosted. Only requests originating from these URLs will be authorized to use your access keys. Note that <u>example.com</u> and <u>www.example.com</u> are considered 2 separate URLs.</p>
						<div align="center"><img src="/custom/images/docs/web_insertValidDomain.png"></div>
						<p>Create a custom.js file from which you will write codes to tap on the Web SDK plugin. Inside custom.js, define the unique app identifier and “ACCESS” key specific to your web application. On window load, initialize and connect to Cloudilly. Then, declare the 4 delegate methods. Based on events received via the 4 delegate methods, build your application logic using the Web SDK library. The snippets below illustrate the bare bones construct of a Cloudilly web application.</p>
<pre class="bottommargin">
window.onload= function() {
    window.cloudilly= new Cloudilly();
    cloudilly.connect(&lt;INSERT APP IDENTIFIER&gt;, &lt;INSERT ACCESS KEY&gt;);

    cloudilly.socketConnected(function(err, res) {
        if(err) { console.log("ERROR: Oops. Something wrong"); return; }
        console.log("@@@@@@ CONNECTED");
        console.log(res);
    });

    cloudilly.socketDisconnected(function() {
        console.log("@@@@@@ DISCONNECTED");
    });

    cloudilly.socketReceivedDevice(function(res) {
        console.log("@@@@@@ RECEIVED DEVICE");
        console.log(res);
    });

    cloudilly.socketReceivedPost(function(res) {
        console.log("@@@@@@ RECEIVED POST");
        console.log(res);
    });
};
</pre>
						<p>Finally, include the Web SDK plugin and custom.js into your HTML codes. Unabridged and minified versions of the Web SDK plugin are found at <u><a href="https://cdn.cloudilly.com/web_v2.js">https://cdn.cloudilly.com/web_v2.js</a></u> and <u><a href="https://cdn.cloudilly.com/web_v2.min.js">https://cdn.cloudilly.com/web_v2.min.js</a></u> respectively. Fire up your web server and open up the developer console on your browser to verify the connection to Cloudilly. The remainder of this page documents the methods and delegates of the Cloudilly Web SDK library.</p>
<pre class="bottommargin">
&lt;head&gt;
    &lt;title&gt;Cloudilly&lt;/title&gt;
    &lt;script type="text/javascript" src="https://cdn.cloudilly.com/web_v2.min.js"&gt;&lt;/script&gt;
    &lt;script type="text/javascript" src="/custom.js"&gt;&lt;/script&gt;
&lt;/head&gt;
</pre>
						<h2>DELEGATES</h2>
						<h4>socketConnected</h4>
						<p>Delegate method triggered when a device connects to Cloudilly.</p>
<pre class="bottommargin">
cloudilly.socketConnected(function(res) {
    console.log("@@@@@@ CONNECTED");
    console.log(res);
});
</pre>
						<p>Response <i>res</i> contains an unique <strong>device</strong> and a random <strong>session</strong> identifier.</p>
<pre class="bottommargin">
{
    "app": "mycoolapp",
    "device": "a9d77a3c-aa97-4a8c-87aa-f12f92f8ea1c",
    "session": "AGWFXW"
}
</pre>
						<h4>socketDisconnected</h4>
						<p>Delegate method triggered when a device disconnects from Cloudilly.</p>
<pre class="bottommargin">
cloudilly.socketDisconnected(function() {
    console.log("@@@@@@ CLOSED");
});
</pre>
						<h4>socketReceivedDevice</h4>
						<p>Delegate method triggered when a device receives a device package.</p>
<pre class="bottommargin">
cloudilly.socketReceivedDevice(function(res) {
    console.log("@@@@@@ RECEIVED DEVICE");
    console.log(res);
});
</pre>
						<p>The snippet below shows a device with custom <strong>payload</strong> originating from <strong>group</strong>= <i>room</i>. <strong>isOnline</strong>= <i>true</i> indicates device is currently active.</p>
<pre class="bottommargin">
{
    "type": "device",
    "device": "7efd3e97-c382-48f6-ab34-bc8dcc6f0820",
    "group": "room",
    "isOnline": true,
    "payload": {
        "customA": "How are you?",
        "customB": "I'm great!"
    }
    "session": [
        "SHEVBE"
    ]
}
</pre>
						<h4>socketReceivedPost</h4>
						<p>Delegate method triggered when a device receives a post package.</p>
<pre class="bottommargin">
cloudilly.socketReceivedPost(function(res) {
    console.log("@@@@@@ RECEIVED POST");
    console.log(res);
});
</pre>
						<p>The snippet below shows a post from a <strong>device</strong> to a <strong>group</strong>. <strong>payload</strong> is the custom message embedded in the post.</p>
<pre class="bottommargin">
{
    "type": "post",
    "device": "7efd3e97-c382-48f6-ab34-bc8dcc6f0820",
    "payload": {
        "customA": "Hello,",
        "customB": "I am doing great!",
        "customC": "Something wonderful is about to happen"
    },
    "timestamp": 1435799797164,
    "group": "room"
}
</pre>
						<h2>METHODS</h3>
						<h4>Connect</h4>
						<p>Connect to Cloudilly. <strong>app</strong> and <strong>access</strong> refer to the unique app identifier and the web access key respectively. If connection is successful, <code>socketConnected</code> delegate responds with the assigned <strong>device</strong> identifier.</p>
<pre class="bottommargin">
cloudilly.connect(app, access);
</pre>
						<h4>Disconnect</h4>
						<p>Force disconnection from Cloudilly. Once disconnected, <code>socketDisconnected</code> delegate will be triggered.</p>
<pre class="bottommargin">
cloudilly.disconnect();
</pre>
						<h4>Listen</h4>
						<p>The device <i>passively listens</i> to <strong>group</strong> in the background. The device's presence is hidden from other devices in the group. If specified group doesn't yet exist, the group is created automatically.</p>
<pre class="bottommargin">
cloudilly.listen(group, function(err, res) {
    if(err) { console.log("ERROR: Oops. Something wrong"); return; }
    console.log("@@@@@@ LISTEN");
    console.log(res);
});
</pre>
						<h4>Unlisten</h4>
						<p>Inverse of <code>listen</code>. Device unsubscribes from <strong>group</strong>.</p>
<pre class="bottommargin">
cloudilly.unlisten(group, function(err, res) {
    if(err) { console.log("ERROR: Oops. Something wrong"); return; }
    console.log("@@@@@@ UNLISTEN");
    console.log(res);
});
</pre>
						<h4>Join</h4>
						<p>The device <i>physically joins</i> <strong>group</strong>. Upon joining, device's presence is automatically broadcasted to other devices in the group with <strong>isOnline</strong>= <i>true</i>. When device leaves the group, the exit event is broadcasted with a <strong>isOnline</strong>= <i>false</i>. If the specified group does not yet exist, the group is created automatically.</p>
<pre class="bottommargin">
cloudilly.join(group, function(err, res) {
    if(err) { console.log("ERROR: Oops. Something wrong"); return; }
    console.log("@@@@@@ JOIN");
    console.log(res);
});
</pre>
						<h4>Unjoin</h4>
						<p>Inverse of <code>join</code>. The device <i>physically leaves</i> <strong>group</strong> and unsubscribes from it.</p>
<pre class="bottommargin">
cloudilly.unjoin(group, function(err, res) {
    if(err) { console.log("ERROR: Oops. Something wrong"); return; }
    console.log("@@@@@@ UNJOIN");
    console.log(res);
});
</pre>
						<h4>Update</h4>
						<p>Attach a custom <strong>payload</strong> to device. The device with its new payload is immediately broadcasted to all groups which device has <code>join</code> previously.</p>
<pre class="bottommargin">
var payload= {};
payload.customA= "Female";
payload.customB= "Developer";
cloudilly.update(payload, function(err, res) {
    if(err) { console.log("ERROR: Oops. Something wrong"); return; }
    console.log("@@@@@@ UPDATE");
});
</pre>
						<h4>Post</h4>
						<p>The device sends a post with custom <strong>payload</strong> to <strong>group</strong>. The post is then redistributed to all devices currently listening or joined to <strong>group</strong>. If the device has <code>link</code> to <strong>group</strong> previously, the post will be retained for linked device until device returns online.</p>
<pre class="bottommargin">
var payload= {};
payload.customA= "Hello";
payload.customB= "I am doing great!";
payload.customC= "Something wonderful is about to happen";
cloudilly.post(group, payload, function(err, res) {
    if(err) { console.log("ERROR: Oops. Something wrong"); return; }
    console.log("@@@@@@ POST");
});
</pre>
						<h4>Link</h4>
						<p>Strongly associate <strong>device</strong> with <strong>group</strong> such that relationship persists after device goes offline. Strong association necessary for offline synchronization of <code>post</code> messages and <code>notify</code> push notifications. If the specified group does not yet exist, the group is created automatically.</p>
<pre class="bottommargin">
cloudilly.link(group, function(err, res) {
    if(err) { console.log("ERROR: Oops. Something wrong"); return; }
    console.log("@@@@@@ LINK");
    console.log(res);
});
</pre>
						<h4>Unlink</h4>
						<p>Inverse of <code>link</code>. Remove strong association with <strong>group</strong>.</p>
<pre class="bottommargin">
cloudilly.unlink(group, function(err, res) {
    if(err) { console.log("ERROR: Oops. Something wrong"); return; }
    console.log("@@@@@@ UNLINK");
    console.log(res);
});
</pre>
						<h4>Notify</h4>
						<p>Send out push notifications to all registered devices linked to <strong>group</strong>. <strong>text</strong> is the short string of text to be displayed on push notification. Push notifications comes with default sound and badge.</p>
<pre class="bottommargin">
cloudilly.notify(text, group, function(err, res) {
    if(err) { console.log("ERROR: Oops. Something wrong"); return; }
    console.log("@@@@@@ NOTIFY");
    console.log(res);
});
</pre>
					</div>
				</div>
			</div>
		</section>

		<footer id="footer" class="dark">
			<div id="copyrights">
				<div class="container clearfix">
					<div class="col_half">Copyrights &copy; 2015-2017 All Rights Reserved by Cloudilly Private Limited</div>
					<div class="col_half col_last tright">
						<div class="copyright-links"><a href="/sla.html">Service Level Agreement</a> | <a href="/terms.html">Terms of Use</a> | <a href="/privacy.html">Privacy Policy</a></div>
					</div>
				</div>
			</div>
		</footer>
	</div>

	<div id="gotoTop" class="icon-angle-up"></div>
	<script type="text/javascript" src="/js/functions.js"></script>
</body>
</html>
